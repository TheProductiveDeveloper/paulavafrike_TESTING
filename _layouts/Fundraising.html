{% assign raised = 0 -%}
{% for row in site.data.darcovia -%}
  {% assign raised = raised | plus: row.suma -%}
{% endfor -%}
{% assign goal = 10000 -%}
{% assign raised_percent = raised | times: 100 | divided_by: goal -%}
{% if raised_percent > 100 -%}
  {% assign raised_percent = 100 -%}
{% endif -%}
<!DOCTYPE html>
<html lang="{{ site.lang | default: "sk" }}">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <link rel="stylesheet" href="https://www.w3schools.com/w3css/5/w3.css"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9FK03JT3CF"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-9FK03JT3CF');
    </script>

{% seo %}
    <link rel="stylesheet" href="{{ "/assets/css/style.css?v=" | append: site.github.build_revision | relative_url }}">
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
    {% include head-custom.html %}

    <style>
      .donated {
        background: #f3f3f3;
        border-radius: 10px;
        padding-bottom: 12px;
        padding-top: 5px;
      }
      .justify {
        text-align: justify;
        hyphens: auto;
      }
      .progress-container {
        margin: 5px 0;
        background: #e0e0e0;
        border-radius: 20px;
        overflow: hidden;
      }
      .progress-bar {
        height: 25px;
        background: #4caf50;
        width: 0%;
        line-height: 25px;
        color: white;
        font-weight: bold;
        transition: width 1s;
        padding-left: 15px;
      }
      .donated__header {
        font-size: 1.2rem;
        font-weight: 900;
        text-align: center;
      }
      .donated_legend {
        font-size: 0.8rem;
        text-align: center;
      }

      /* Share buttons */

      .share-buttons {
         display: flex;
         gap: 10px;
         flex-wrap: wrap;
       }
       .share-buttons button {
         display: flex;
         align-items: center;
         gap: 8px;
         padding: 10px 15px;
         border: none;
         border-radius: 5px;
         color: white;
         cursor: pointer;
         font-size: 16px;
         transition: transform 0.2s;
       }
       .share-buttons button:hover {
         transform: scale(1.03);
       }
       .facebook { background: #3b5998; }
       .instagram { background: #E1306C; }
       .linkedin { background: #0077b5; }
       .x { background: #1DA1F2; }


      /* w3.css */
      .w3-card,.w3-card-2{box-shadow:0 2px 5px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12)}
      .w3-card-4,.w3-hover-shadow:hover{box-shadow:0 4px 10px 0 rgba(0,0,0,0.2),0 4px 20px 0 rgba(0,0,0,0.19)}
      
    </style>
  </head>
  <body>
    <div class="wrapper">
      <header style="position: static;">
        {% if site.logo %}
        <img src="{{site.logo | relative_url}}" alt="Logo" class="w3-card" style="border-radius: 5px;" />
        {% endif %}
      
        <div class="progress-container">
          <div id="progress" class="progress-bar" style="width: {{ raised_percent }}%;"> {{ raised_percent }}%</div>
        </div>
        <p>Získaných <span id="raised"></span> z <span id="goal"></span></p>
        <script>
          const goal = {{ goal }};
          const raised = {{ raised }};
      
          const raisedEl = document.getElementById('raised');
          const goalEl = document.getElementById('goal');
      
          raisedEl.textContent = raised.toLocaleString("sk") + " EUR";
          goalEl.textContent = goal.toLocaleString("sk") + " EUR";
        </script>
      
        <div style="display: flex;">
          <div style="margin-right: 15px;">
            <b>Podporiť platbou na účet </b><i>(preferované kvôli poplatkom za platbu kartou):</i>
          </div>
          <div>
            <img
              src="assets/img/QR_CU_Pauli_no_msg_no_sum.png"
              style="max-height:250px;" />
          </div>
        </div>
        <h4>IBAN: SK77 1100 0000 0029 3326 3792<br />SWIFT: TATRSKBX resp. TATRSKBXXXX<br />Názov účtu: Paulína Hírešová</h4>
      
        <div style="display: flex;">
          <div>
            <b>Podporiť cez PayPal (kartou):</b>
          </div>
          <div>
            <!-- PayPal Donate Button -->
            <form action="https://www.paypal.com/donate" method="post" target="_top">
              <input type="hidden" name="hosted_button_id" value="BWXQJ9XW2JCC4" />
              <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit"
                title="PayPal - The safer, easier way to pay online!" alt="Donate with PayPal button" />
              <img alt="" border="0" src="https://www.paypal.com/en_SK/i/scr/pixel.gif" width="1" height="1" />
            </form>
          </div>
        </div>
        <small>Ak si želáte zostať v anonymite, pridajte prosím do poznámky k platbe text „Anonymný podporovateľ“.</small>
        <br /><br /><br />
      </header>
      <section style="padding: 15px; background: #f3f3f3; border-radius: 15px;" class="w3-card">

      {{ content }}


        <div class="share-buttons">
          <button class="facebook" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(window.location.href),'_blank')">
            <i class="fab fa-facebook-f"></i> Facebook
          </button>
        
          <button class="instagram" onclick="window.open('https://www.instagram.com/?url=' + encodeURIComponent(window.location.href),'_blank')">
            <i class="fab fa-instagram"></i> Instagram
          </button>
        
          <button class="linkedin" onclick="window.open('https://www.linkedin.com/shareArticle?mini=true&url=' + encodeURIComponent(window.location.href),'_blank')">
            <i class="fab fa-linkedin-in"></i> LinkedIn
          </button>
        
          <button class="x" onclick="window.open('https://twitter.com/intent/tweet?url=' + encodeURIComponent(window.location.href),'_blank')">
            <i class="fab fa-twitter"></i> X
          </button>
        </div>
      </section>
      <footer style="position: static;">
        <div class="donated w3-card">
          <p class="donated__header">Už darovali</p>
          <table class="donated__table">
              <colgroup>
                <col>
                <col>
                <col style="min-width: 8ch;">
              </colgroup>
              <tbody>
                  {% for darca in site.data.darcovia %}
                      <tr class="donated__row">
                          <td class="donated__col">{{ darca.meno }}
                          </td>
                          <td class="donated__col">{{ darca.sprava }}
                          </td>
                          <td class="donated__col">{{ darca.suma }} €
                          </td>
                      </tr>
                  {% endfor %}
              </tbody>
          </table>
          <div class="donated_legend">
              {{ site.data.darcovia | size }}
              darov
          </div>
        </div>
        <br /><br />
      </footer>
    </div>
    <script src="{{ "/assets/js/scale.fix.js" | relative_url }}"></script>
  </body>
</html>

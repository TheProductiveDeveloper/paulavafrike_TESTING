{% assign raised = 0 -%}
{% for row in site.data.darcovia -%}
  {% assign raised = raised | plus: row.suma -%}
{% endfor -%}
{% assign goal = 10000 -%}
{% assign raised_percent = raised | times: 100 | divided_by: goal -%}
{% if raised_percent > 100 -%}
  {% assign raised_percent = 100 -%}
{% endif -%}
<!DOCTYPE html>
<html lang="{{ site.lang | default: "sk" }}">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <link rel="stylesheet" href="https://www.w3schools.com/w3css/5/w3.css"> -->

{% seo %}
    <link rel="stylesheet" href="{{ "/assets/css/style.css?v=" | append: site.github.build_revision | relative_url }}">
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
    {% include head-custom.html %}

    <style>
      .donated {
        background: #f3f3f3;
        border-radius: 15px;
        padding: 1ch;
      }
      .justify {
        text-align: justify;
        hyphens: auto;
      }
      .w3-light-grey,.w3-hover-light-grey:hover,.w3-light-gray,.w3-hover-light-gray:hover{color:#000!important;background-color:#f1f1f1!important}
      .w3-round-small{border-radius:2px}.w3-round,.w3-round-medium{border-radius:4px}.w3-round-large{border-radius:8px}.w3-round-xlarge{border-radius:16px}.w3-round-xxlarge{border-radius:32px}
      .w3-container:after,.w3-container:before,.w3-panel:after,.w3-panel:before,.w3-row:after,.w3-row:before,.w3-row-padding:after,.w3-row-padding:before,
          .w3-cell-row:before,.w3-cell-row:after,.w3-clear:after,.w3-clear:before,.w3-bar:before,.w3-bar:after{content:"";display:table;clear:both}
      .w3-container,.w3-panel{padding:0.01em 16px}.w3-panel{margin-top:16px;margin-bottom:16px}
      .w3-green,.w3-hover-green:hover{color:#fff!important;background-color:#4CAF50!important}
    </style>
  </head>
  <body>
    <div class="wrapper">
      <header style="position: static;">
        {% if site.logo %}
          <img src="{{site.logo | relative_url}}" alt="Logo" />
        {% endif %}
      
        <div class="w3-light-grey w3-round-xlarge" style="margin-top: 0.9em; margin-bottom: 0.2em; font-weight: bold;">
          <div class="w3-container w3-green w3-round-xlarge" style="width: {{ raised_percent }}%">{{ raised_percent }}%</div>
        </div>
        <p>Získaných <span id="raised"></span> z <span id="goal"></span></p>

        <script>
          const goal = {{ goal }};
          const raised = {{ raised }};
          
          const raisedEl = document.getElementById('raised');
          const goalEl = document.getElementById('goal');
          
          raisedEl.textContent = raised.toLocaleString("sk") + " EUR";
          goalEl.textContent = goal.toLocaleString("sk") + " EUR";
        </script>
        
        <div class="donated">
          <p class="donated__header">Už darovali</p>
          <table class="donated__table">
              <colgroup>
                <col>
                <col>
                <col style="min-width: 8ch;">
              </colgroup>
              <tbody>
                  {% for darca in site.data.darcovia %}
                      <tr class="donated__row">
                          <td class="donated__col">{{ darca.meno }}
                          </td>
                          <td class="donated__col">{{ darca.sprava }}
                          </td>
                          <td class="donated__col">{{ darca.suma }} €
                          </td>
                      </tr>
                  {% endfor %}
              </tbody>
          </table>
          <div class="donated_legend">
              {{ site.data.darcovia | size }}
              darov
          </div>
        </div>
      </header>
      <section>

      {{ content }}

      </section>
      <footer>

      </footer>
    </div>
    <script src="{{ "/assets/js/scale.fix.js" | relative_url }}"></script>
  </body>
</html>
